---
import Card from "../../components/card.astro";
import BaseLayout from "../../layouts/baseLayout.astro";
import type { ProjectFrontmatter } from "../../types/project.domain";

const projects = await Astro.glob<ProjectFrontmatter>(
  "../../content/projects/*.md",
);
---

<BaseLayout title="Blog" description="All my blog posts.">
  <h1 class="mt-20 text-6xl font-bold">Projects</h1>
  <ul
    role="list"
    class="mt-10 grid grid-cols-2 gap-x-4 gap-y-8 sm:grid-cols-2 sm:gap-x-6 lg:grid-cols-3 xl:gap-x-8"
  >
    {
      projects
        .sort(
          (a, b) =>
            Date.parse(b.frontmatter.date) - Date.parse(a.frontmatter.date),
        )
        .map((project) => (
          <Card
            href={`/projects/${project.frontmatter.slug}`}
            title={project.frontmatter.title}
            image={project.frontmatter.image}
            date={project.frontmatter.date}
            tags={project.frontmatter.tags}
          />
        ))
    }
  </ul>
</BaseLayout>
